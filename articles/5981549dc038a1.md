---
title: "Jotaiã‚’ä½¿ã£ã¦ã¿ãŸ"
emoji: "ğŸ‘‹"
type: "tech"
topics:
  - "jotai"
published: true
published_at: "2024-03-23 04:14"
---

# ã¯ã˜ã‚ã«
ä»Šå›ã®ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰â†“
https://github.com/49takaya3989/sample_react_jotai/tree/main
# é–‹ç™ºç’°å¢ƒ
```json
"jotai": "^2.7.1"
```
# Jotai ã¨ã¯ï¼Ÿ
>æœ€å°ã‚³ã‚¢ API (2kb)
å¤šãã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¨æ‹¡å¼µæ©Ÿèƒ½
TypeScript æŒ‡å‘
Next.jsã€Gatsbyã€Remixã€Wakuã€ãŠã‚ˆã³ React Native ã§å‹•ä½œã—ã¾ã™

https://jotai.org/docs/introduction

# Jotai ã®å°å…¥
ã‚ˆãã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®äº‹ä¾‹ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã¯ form ã‚’ä¾‹ã«ä½¿ã£ã¦ã¿ã‚‹ã€‚
[å…¬å¼](https://jotai.org/#:~:text=a%20React%20framework.-,Installation,-First%20add%20Jotai)ã‚’å‚è€ƒã«é€²ã‚ã‚‹ã€‚
1. Jotai ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹
3. Jotai ã®æ§‹ç¯‰

## Jotai ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```
npm i jotai
```
## ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹
ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œæˆã¯ä¸‹è¨˜è¨˜äº‹ã§ç´¹ä»‹ã—ã¦ã„ã‚‹ã®ã§ã€ã‚ˆã‘ã‚Œã°å‚è€ƒã¾ã§ã«ï¼
https://zenn.dev/takaya39/articles/f02f7a29e17df1
https://zenn.dev/takaya39/articles/8b9ce75259a791

## Jotai ã®æ§‹ç¯‰
```ts
import { atom } from 'jotai'
import { Schema } from '../schema';
export const submitDataAtom = atom<Schema[] | null>(null);
```
Provider ã¨ã‹ã¯ãªã„ã®ã§ã€ã“ã‚Œã§ store ã®æ§‹ç¯‰ã¯å®Œæˆï¼ç°¡å˜ï¼
å€‹äººçš„ã«ã¯ã€ç›´æ¥ store ã‚’ã„ã˜ã‚‹ã®ã¯å¥½ãã§ãªã„ãªã¨æ€ã£ãŸã®ã§ Reducer çš„ãªã‚‚ã®ã‚’ä½œæˆã™ã‚‹ã€‚
https://github.com/49takaya3989/sample_react_jotai/blob/main/src/store/submitData.ts

é€ä¿¡ã®é–¢æ•°ã«è¿½åŠ ã™ã‚‹ã€‚
```tsx
const [, setData] = useAtom(updateSubmitDataAtom);

const onSubmit: SubmitHandler<Schema> = (data) => {
  setData(data);
  reset()
}
```
æ›´æ–°ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
```tsx
import { useAtom } from 'jotai'

ãƒ»ãƒ»ãƒ»

const FormData = () => {
  const [data] = useAtom(getSubmitDataAtom);

  if (data && data.length < 1) return undefined;

  return (
    <Box>
      {data?.map(el => (
        <Box>
          <Box>text:{el.text}</Box>
          <Box>number:{el.number}</Box>
          <Box>select:{el.select}</Box>
          <Box>checkbox:{el.checkbox}</Box>
          <Box>checkboxes:{el.checkboxes}</Box>
          <Box>radio:{el.radio}</Box>
          <Box>date:{el.date}</Box>
          <Box>textarea:{el.textarea}</Box>
        </Box>
      ))}
    </Box>
  )
}

function MuiRhfWithControllerAndZod() {
  ãƒ»ãƒ»ãƒ»
  return (
    <Container maxWidth="sm" sx={{ pt: 5 }}>
      ãƒ»ãƒ»ãƒ»
      <FormData />
    </Container>
  )
}

export default MuiRhfWithControllerAndZod
```
ä»¥ä¸Šï¼